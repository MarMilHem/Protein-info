<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Protein Info</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #f7f9fc;
      color: #222;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
      padding: 2rem;
    }

    .title-box {
      background: #e6f3ff;
      border-radius: 20px;
      padding: 2rem 3rem;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      display: inline-block;
      margin-bottom: 1.5rem;
    }

    h1 {
      margin: 0;
      font-size: 2.5rem;
      color: #0059ff;
    }

    p {
      max-width: 600px;
      margin: 0.75rem auto;
      line-height: 1.6;
      color: #333;
    }

    footer {
      margin-top: 3rem;
      font-size: 0.9rem;
      color: #777;
    }.search-bar {
  margin-top: 2rem;
  display: flex;
  justify-content: center;
  gap: 0.5rem;
}

.search-bar input {
  padding: 0.75rem 1rem;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 999px;
  width: 280px;
  outline: none;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.search-bar input:focus {
  border-color: #0059ff;
  box-shadow: 0 0 6px rgba(0, 89, 255, 0.3);
}

.search-bar button {
  background-color: #0059ff;
  color: white;
  border: none;
  border-radius: 999px;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;
}

.search-bar button:hover {
  background-color: #0040cc;
}

    
  </style>
</head>
<body>
  <div class="title-box">
    <h1>Welcome to Protein Info</h1>
  </div>

  <p>
    A place where you can explore and compare different protein brands — 
    their prices, macros, and nutritional profiles — all in one spot.
  </p>

  <p>🚧 This site is under development — more features coming soon!</p>

<!-- 🔍 Search Bar -->
<form class="search-bar" action="#" method="get">
  <input type="text" name="query" placeholder="Search for a protein brand..." required />
  <button type="submit">Search</button>
</form>
  <footer>
    &copy; 2025 Protein Info. All rights reserved.
  </footer>
  <div id="web-search" style="max-width:800px;margin:2rem auto;text-align:left;">
  <form id="brandSearchForm" style="display:flex;gap:.5rem;">
    <input id="brandQuery" type="text" placeholder="Search the web for protein brands..." aria-label="Search the web"
           style="flex:1;padding:.75rem;border:1px solid #ccd;border-radius:.6rem" required />
    <button type="submit" style="padding:.75rem 1rem;border:none;background:#0059ff;color:#fff;border-radius:.6rem;cursor:pointer">
      Search
    </button>
  </form>

  <div id="brandResults" style="margin-top:1rem;"></div>
</div>

<script>
  const formEl = document.getElementById('brandSearchForm');
  const inputEl = document.getElementById('brandQuery');
  const resultsEl = document.getElementById('brandResults');

  formEl.addEventListener('submit', async (e) => {
    e.preventDefault();
    resultsEl.innerHTML = "Searching…";

    const q = inputEl.value.trim();
    try {
      // If your Worker is on a custom route/domain, replace path below with its full URL
      const res = await fetch(`/search?q=${encodeURIComponent(q)}`);
      const data = await res.json();

      if (!res.ok) throw new Error(data.error || "Search failed");

      if (!data.results?.length) {
        resultsEl.innerHTML = "No results found.";
        return;
      }

      resultsEl.innerHTML = data.results.map(r => `
        <article style="padding:1rem;border:1px solid #eee;border-radius:.8rem;margin:.75rem 0;">
          <a href="${r.url}" target="_blank" rel="noopener" style="font-weight:600;text-decoration:none;color:#0059ff;">
            ${r.name}
          </a>
          <div style="font-size:.9rem;color:#666;margin:.25rem 0;">${r.displayUrl || r.url}</div>
          <p style="margin:.5rem 0 0 0;line-height:1.5;">${r.snippet || ""}</p>
        </article>
      `).join('');
    } catch (err) {
      resultsEl.innerHTML = `Error: ${err.message}`;
    }
  });
</script>

</body>
</html>
